<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="employeeMapper">
	<!-- Employee 테이블 매핑 -->
	<resultMap type="employee" id="EmployeeDTO">
		<result column="emp_no" property="empNo"/>
		<result column="emp_pw" property="empPw"/>
		<result column="emp_name" property="empName"/>
		<result column="emp_position" property="empPosition"/>
		<result column="emp_email" property="empEmail"/>
		<result column="cell_phone" property="cellPhone"/>
		<result column="office_phone" property="officePhone"/>
		<result column="dept_no" property="deptNo"/>
		<result column="permission_yn" property="permissionYn"/>
	</resultMap>
	
	<!-- 한명의 사원정보 조회 -->
	<select id="getEmployee" parameterType="String" resultMap="EmployeeDTO">
		select * from employee where emp_no=#{emp_no}
	</select>
	
	<!-- 로그인 -->
	<select id="login" parameterType="java.util.Map" resultMap="EmployeeDTO">
		select * from employee where emp_no=#{emp_no} and emp_pw=#{emp_pw}
	</select> 
	 
	<!-- 민기 : 회의실 관리자 명단 뽑아오기 -->
	<select id="selectAllAdmin" resultMap="EmployeeDTO">
        SELECT employee.* FROM employee, room where employee.emp_no = room.mgr_emp_no
	</select>
</mapper>